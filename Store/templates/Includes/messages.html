{% if messages %}
    .toast-container {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 10001;
        display: flex;
        flex-direction: column;
        gap: 15px;
        pointer-events: none;
    }

    .glass-toast {
        background: var(--glass-bg, rgba(255, 255, 255, 0.65));
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        color: var(--primary-dark, #0f172a);
        padding: 20px 30px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        gap: 15px;
        box-shadow: var(--shadow-lg, 0 20px 25px -5px rgba(0, 0, 0, 0.1));
        border: 1px solid var(--glass-border, rgba(255, 255, 255, 0.4));
        font-weight: 700;
        font-family: 'Poppins', sans-serif;
        font-size: 1rem;
        transform: translateY(150%);
        transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        pointer-events: auto;
        min-width: 300px;
        max-width: 450px;
    }

    .glass-toast.show {
        transform: translateY(0);
    }

    .glass-toast i {
        font-size: 1.5rem;
    }

    /* Message Type Specifics */
    .glass-toast.success i { color: #10b981; }
    .glass-toast.error i { color: #ef4444; }
    .glass-toast.warning i { color: #f59e0b; }
    .glass-toast.info i { color: #3b82f6; }

    /* Mobile Adjustment */
    @media (max-width: 576px) {
        .toast-container {
            bottom: 20px;
            left: 20px;
            right: 20px;
            align-items: center;
        }
        .glass-toast {
            width: 100%;
            min-width: auto;
            justify-content: flex-start;
            padding: 15px 20px;
            font-size: 0.95rem;
        }
    }
</style>

<div class="toast-container">
    {% for message in messages %}
    <div class="glass-toast {{ message.tags }}" role="alert">
        {% if message.tags == 'success' %}
            <i class="fas fa-check-circle"></i>
        {% elif message.tags == 'error' %}
            <i class="fas fa-times-circle"></i>
        {% elif message.tags == 'warning' %}
            <i class="fas fa-exclamation-circle"></i>
        {% else %}
            <i class="fas fa-info-circle"></i>
        {% endif %}
        <span>{{ message }}</span>
    </div>
    {% endfor %}
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const toasts = document.querySelectorAll('.glass-toast');
        
        toasts.forEach((toast, index) => {
            // Stagger entrance slightly
            setTimeout(() => {
                toast.classList.add('show');
            }, index * 200 + 100);

            // Auto dismiss
            setTimeout(() => {
                toast.classList.remove('show');
                // Remove from DOM after transition
                setTimeout(() => {
                    toast.remove();
                }, 500);
            }, 4000 + (index * 200)); // 4 seconds
        });
    });
</script>
{% endif %}